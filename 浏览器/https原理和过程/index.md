https原理流程，如何保证数据安全传输：
    c代表客户端，s代表服务端。

    1、客户端向服务端发送请求，内容 支持的ssl版本，非对称加密算法  随机数num1

    2、服务端向客户端发送 自己的ca证书（证书有一些信息，比如公钥，证书来源之类的信息），对称加密算法，还有随机数num2

    3、客户端对CA证书进行验证，有一个验证过程。这一部分是浏览器内置的TLS完成的：

        3.1 首先浏览器会从内置的证书列表中索引，找到服务器下发证书对应的机构，如果没有找到，此时就会提示用户该证书是不是由权威机构颁发，是不可信任的。如果查到了对应的机构，则取出该机构颁发的公钥。

        3.2 用机构的证书公钥解密得到证书的内容和证书签名，内容包括网站的网址、网站的公钥、证书的有效期等。浏览器会先验证证书签名的合法性（验证过程类似上面Bob和Susan的通信 https://www.sohu.com/a/148408663_236714）。如下：
        
         数字证书会包含 颁发机构、有效期、使用证书对象、加密算法、rsa公钥，数字签名等，  其中这个数字签名，就是将证书里面的信息通过Hash算法
            生成一串hash字符串，这字符串就叫做数字摘要，然后就使用RSA私钥对这数字摘要进行加密，得到数字签名。
            接下来进行验证：
            客户端接收到服务端传过来的带有数字签名的ca证书之后，浏览器会解析得到RSA公钥以及数字签名等证书里面的内容，然后使用RSA公钥对数字签名进行解密得到一串hash字符串，之后，再使用hash算法对数字证书里面的信息进行hash加密，也得到一串hash字符串，比较这两串字符串是否相同，如果相同就说明证书没有被篡改。
            然后接下里就继续去验证证书的颁发机构、有效期等等。
        
        签名通过后，浏览器验证证书记录的网址是否和当前网址是一致的，不一致会提示用户。如果网址一致会检查证书有效期，证书过期了也会提示用户。这些都通过认证时，浏览器就可以安全使用证书中的网站公钥了。
    

        验证成功之后，生成随机数3num3，并且对num1和num2进行hash加密转换，hash(num1，num2) = xx。于是将xx和num3通过CA中的公钥进行非对称加密，再传输给服务端。

    4、服务端接收到加密的信息后，使用私钥进行解密得到xx和num3，然后使用hash对之前的num1和num2进行计算加密，得到也得到一串xx1，然后比较xx和xx1，如果相同的话，那就说明信息是安全的，是服务端发送过来的。接着就使用约定好的算法 将num1、num2和num3生成一个key值，这个可以值就用来对称加密用的。 
        然后，服务端再将num1、num2和num3使用hash，生成一串字符串zz，发送给客户端。

    5、客户端收到字符串zz后，使用之前的num1、num2、和num3，进行hash计算，也生成一串字符串zz1，然后比较两串字符是否相等，如果相等，则说明对方确实是服务器，表示连接安全。然后也使用约定好的算法对将num1、num2和num3生成一个key秘钥，这个key也是用来进行对称加密的。  

    通过这样的方式来得到的对称加密的私钥key是非常安全的，分分三次来进行传递，即使被中间人拦截，使用暴力进行破解，是不可能实现的，而不是说在客户端直接生成一个对称加密的私钥key，直接一次将这个key传给服务端，这样的话被拦截到，攻击者只需要破解一次就可以得到key值，并不是很安全。


    6、接下来双方就可以通过对称加密算法进行加密通讯了。

    
    上面是将那个协商出key值的过程详细化了。

    其实简单的说就是，在验证证书安全之后，客户端就生成一个key秘钥，这个秘钥就是用来对称加密的秘钥，使用获取到的服务端的公钥进行加密，传输给服务端，由于只有服务端有私钥，所以别人解密不了，所以就完成了key的传输。接下来就可以进行对称加密传输信息了。





    安全问题：中间人攻击


    防范：
    ①不随意连接公共wifi
    ②对于arp表中的ip和MAC地址进行静态固定
    ③开启一些安全软件的arp防火墙
    ④及时更新浏览器版本或换用其他安全性高的浏览器 

