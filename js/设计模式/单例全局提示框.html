<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>singleTon</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* 提示框动画和样式 */
        @keyframes appear {
            from {
                left: 100%;
            }

            to {
                left: 50%;
            }
        }

        .message-tip {
            animation: appear .5s linear;
            position: fixed;
            width: 200px;
            background: red;
            color: #fff;
            line-height: 1.5;
            padding-left: 5px;
            top: 20px;
            left: 50%;
            border: 1px solid #d3d3d3;
            transform: translateX(-50%);
        }
    </style>
</head>

<body>
    <button id="tipsBtn" onclick="showMsg()">提示消息</button>
    <script>
        //创建提示框单例
        // let createTips = (function () {
        //     let tipDom = null;
        //     function createDom() {
        //         let div = document.createElement('div');
        //         div.setAttribute('class', 'message-tip');
        //         return div;
        //     }

        //     return function (msg) {
        //         if (!tipDom) {
        //             tipDom = createDom();
        //         }
        //         tipDom.innerHTML = msg;
        //         return tipDom;
        //     }
        // })();

        // //验证是够是单例,打印true，则是单例模式
        // console.log(createTips('1') === createTips('2'));

        // function showMsg() {
        //     let tips = createTips('这是消息提示');
        //     document.body.appendChild(tips);
        //     setTimeout(() => {
        //         document.body.removeChild(tips);
        //     }, 5000);
        // }


        //单例设计模式
        let singleton = function(obj){
            let instance;
            return function(){
                if(!instance){
                    instance =  new obj(arguments)
                }
                return instance                
            }
        }
    </script>
</body>

</html>