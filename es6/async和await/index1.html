<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // async function async1 () {
        //     return Promise.resolve('123')
        // }

        // async1().then((v) => {
        //      console.log(v)
        //  })

        // let promise1 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         resolve(1)
        //     },10)
        // })


        // let promise2 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         resolve(2)
        //     },10)
        // })


        // let promise3 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         reject(3)
        //     },10)
        // })

        // Promise.all([promise1, promise2, promise3]).then((res) => {
        //     console.log(res)
        // })




        // 对应01.gif执行过程的例子1
        // console.log('script start')
        // async function async1() {
        //     await async2()
        //     console.log('async1 end')
        // }
        // async function async2() {
        //     console.log('async2 end')
        //     return new Promise((resolve) => {
        //         resolve();
        //     }).then(() => {
        //         console.log('async2 end1')
        //     })
        // }
        // async1()
        // setTimeout(function () {
        //     console.log('setTimeout')
        // }, 0)
        // new Promise(resolve => {
        //     console.log('Promise')
        //     resolve()
        // }).then(function () {
        //     console.log('promise1')
        // }).then(function () {
        //     console.log('promise2')
        // }).then(() => {
        //     console.log('promise3')
        // }).then(() => {
        //     console.log('promise4')
        // })
        // async function async3() {
        //     await async4()
        //     console.log('async3 end')
        // }
        // async function async4() {
        //     console.log('async4 end')
        //     return new Promise((resolve) => {
        //         resolve();
        //     }).then(() => {
        //         console.log('async4 end1')
        //     })
        // }
        // async3()
        // console.log('script end')



        // 对应02gif的执行过程 例子2

        // function c() {
        //     return new Promise((resolve) => {
        //         console.log('开始了')// 当这条语句执行完， 会把接下来的第一个.then回调事件推进微任务队列中，然后会跳出a()函数，继续执行接下来的函数
        //         resolve()
        //     }).then(() => {
        //         console.log('c.......');
        //         return
        //     }).then(res => {
        //         console.log(res);
        //         return '返回了一个值'
        //     })
        // }
        // async function a() {
        //     // 如果await后的表达式是一个promise对象
        //     await c().then((res) => {
        //         console.log('then....' + res)
        //     })
        //     console.log(1)
        // }
        // a();
        // console.log('同步代码')
        // Promise.resolve().then(() => {
        //     console.log(3)
        // })

        async function a() {

            console.log('“await start”')

            await 10

            console.log('“await end”')

        }

        setTimeout(() => {

            console.log('“0”')

        })

        console.log('“start”')

        a()

        new Promise((res) => {

            console.log('“promise”')

            res(0)

        }).then(() => {

            console.log('“then”')

        })

        console.log('“end”')

        /*
        
        cmd:
        开始了
        
        microTask:
        console.log('c.......');
        
        macroTask:
        */


        /*
        
        cmd:
        开始了
        同步代码
        c.......');
        3
        undefined
        
        microTask:
         console.log('c.......');
         console.log(3)
          console.log(res);
        
        macroTask:
        
        
        */

    </script>
</body>

</html>